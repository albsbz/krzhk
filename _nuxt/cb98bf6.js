(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{303:function(t,e,o){var content=o(310);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(51).default)("0e394eac",content,!0,{sourceMap:!1})},309:function(t,e,o){"use strict";var n=o(303);o.n(n).a},310:function(t,e,o){(e=o(50)(!1)).push([t.i,".deleteWrapper[data-v-1a34e26e]{display:flex;justify-content:flex-end}",""]),t.exports=e},315:function(t,e,o){var content=o(336);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(51).default)("32976fc4",content,!0,{sourceMap:!1})},316:function(t,e,o){"use strict";var n={data:function(){return{tags:this.$store.getters["schools/tags"],districts:this.$store.getters["schools/districts"]}},computed:{selectedTag:{get:function(){return this.$store.state.schools.filterTag},set:function(t){this.$store.commit("schools/setFilterTag",t)}},selectedDistrict:{get:function(){return this.$store.state.schools.filterDistrict},set:function(t){this.$store.commit("schools/setFilterDistrict",t)}},displaySidebar:{get:function(){return this.$store.state.schools.showFilter}}},methods:{changeFilter:function(){this.$store.commit("schools/zeroPage")},clearAllFilters:function(){this.$store.commit("schools/setFilterTag","Все"),this.$store.commit("schools/setFilterDistrict","Все"),this.changeFilter()},toggleFilter:function(){this.$store.commit("schools/toggleFilter")}}},r=(o(309),o(7)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.displaySidebar?o("aside",{staticClass:"box"},[o("div",{staticClass:"deleteWrapper"},[o("a",{staticClass:"delete",on:{click:t.toggleFilter}})]),t._v(" "),o("h6",[t._v("Фильтр")]),t._v(" "),o("div",{staticClass:"field"},[o("label",{staticClass:"label"},[t._v("Тэги")]),t._v(" "),o("div",{staticClass:"control"},[o("div",{staticClass:"select"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedTag,expression:"selectedTag"}],on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedTag=e.target.multiple?o:o[0]},t.changeFilter]}},t._l(t.tags,(function(e){return o("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])})),0)])])]),t._v(" "),o("div",{staticClass:"field"},[o("label",{staticClass:"label"},[t._v("Район")]),t._v(" "),o("div",{staticClass:"control"},[o("div",{staticClass:"select"},[o("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDistrict,expression:"selectedDistrict"}],on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.selectedDistrict=e.target.multiple?o:o[0]},t.changeFilter]}},t._l(t.districts,(function(e){return o("option",{key:e,domProps:{value:e}},[t._v("\n            "+t._s(e))])})),0)])])]),t._v(" "),o("button",{staticClass:"button is-small",on:{click:t.clearAllFilters}},[t._v("\n    Сбросить фильтр\n  ")])]):t._e()}),[],!1,null,"1a34e26e",null);e.a=component.exports},335:function(t,e,o){"use strict";var n=o(315);o.n(n).a},336:function(t,e,o){(e=o(50)(!1)).push([t.i,'.gm-style-iw-d[data-v-1079fd82]{overflow:hidden!important}.dumb[data-v-1079fd82]{width:500px;height:300px;background-color:#0ff}.sidebar[data-v-1079fd82]{display:block;max-width:300px;grid-area:sidebar;position:-webkit-sticky;position:sticky;top:5%;width:100%;height:300px;overflow:auto}.mainwrapper[data-v-1079fd82]{display:grid;grid-template-columns:auto 150px;grid-template-rows:auto 50px;grid-template-areas:"title title" "mapwrapper sidebar" "pagination sidebar";grid-gap:10px}.mainwrapper.nosidebar[data-v-1079fd82]{grid-template-areas:"title" "mapwrapper" "pagination";grid-template-columns:auto}.mapwrapper[data-v-1079fd82]{grid-area:mapwrapper}.mapwrapper[data-v-1079fd82],.title[data-v-1079fd82]{display:grid;grid-gap:10px}.title[data-v-1079fd82]{text-align:center;grid-area:title}.dumb[data-v-1079fd82],.map[data-v-1079fd82]{justify-self:center}.filter-button[data-v-1079fd82]{margin:5px auto;width:150px;display:block}.slide-fade-enter-active[data-v-1079fd82]{transition:all .3s ease}.slide-fade-leave-active[data-v-1079fd82]{transition:all .8s cubic-bezier(1,.5,.8,1)}.slide-fade-enter[data-v-1079fd82],.slide-fade-leave-to[data-v-1079fd82]{transform:translateX(-10px);opacity:0}',""]),t.exports=e},352:function(t,e,o){"use strict";o.r(e);o(45),o(33),o(32),o(46);var main=o(198),n=o(333),r=o.n(n),l=o(316),c={components:{GmapCluster:r.a,appSidebar:l.a},data:function(){return{geocoder:null,infoWindowPos:null,infoWinOpen:!1,currentMidx:null,infoOptions:{content:"",pixelOffset:{width:0,height:-35}}}},computed:{google:main.gmapApi,schools:function(){return this.$store.getters["schools/filterAll"]},schoolsCoordinates:function(){var t={};return this.schools.map((function(e){var o,n;t[(null===(o=e.geometry)||void 0===o?void 0:o.location.lat)+"-"+(null===(n=e.geometry)||void 0===n?void 0:n.location.lng)]=e.title})),t},markers:function(){return this.schools.filter((function(t){if(t.geometry)return t})).map((function(t){return{position:t.geometry.location,infoText:{title:t.title,address:t.address}}}))},displaySidebar:{get:function(){return this.$store.state.schools.showFilter}}},methods:{toggleInfoWindow:function(marker,t){this.infoWindowPos=marker.position;var e=[];this.markers.forEach((function(t){t.position.lat+"-"+t.position.lng==marker.position.lat+"-"+marker.position.lng&&e.push(t.infoText)})),this.infoOptions.content=e,this.currentMidx===t?this.infoWinOpen=!this.infoWinOpen:(this.infoWinOpen=!0,this.currentMidx=t)},toggleFilter:function(){this.$store.commit("schools/toggleFilter")}}},d=(o(335),o(7)),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container mainwrapper",class:{nosidebar:!t.displaySidebar}},[o("h1",{staticClass:"title is-large"},[t._v("Детские кружки в г. Запорожье")]),t._v(" "),o("div",{staticClass:"mapwrapper"},[o("button",{staticClass:"button is-light filter-button",on:{click:t.toggleFilter}},[t._v("\n      Показать фильтр\n    ")]),t._v(" "),o("GmapMap",{staticClass:"box map",staticStyle:{width:"500px",height:"300px"},attrs:{center:{lat:47.840476,lng:35.137578},zoom:10,"map-type-id":"roadmap"}},[o("GmapInfoWindow",{attrs:{position:t.infoWindowPos,opened:t.infoWinOpen}},t._l(t.infoOptions.content,(function(content){return o("article",{key:content.title,staticClass:"message is-link"},[o("div",{staticClass:"message-header"},[o("NLink",{attrs:{to:"schools/"+content.title}},[t._v("\n              "+t._s(content.title)+"\n            ")])],1),t._v(" "),o("div",{staticClass:"message-body"},[t._v("\n            "+t._s(content.address)+"\n          ")])])})),0),t._v(" "),o("GmapCluster",{attrs:{"max-zoom":15}},t._l(t.markers,(function(e,n){return o("GmapMarker",{key:n,attrs:{position:e.position,clickable:!0,draggable:!1},on:{click:function(o){return t.toggleInfoWindow(e,n)}}})})),1)],1)],1),t._v(" "),o("transition",{attrs:{name:"slide-fade"}},[o("appSidebar",{staticClass:"sidebar"})],1)],1)}),[],!1,null,"1079fd82",null);e.default=component.exports}}]);